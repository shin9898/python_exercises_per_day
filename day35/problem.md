---

### 📝 Python基礎力強化 - Day35

---

素晴らしいですね！Python基礎力強化、いよいよDay35です。前回はコンポジションの概念に苦戦されたようですが、それはオブジェクト指向プログラミングにおいて誰もが通る道です。しかし、その壁にぶつかりながらも、一つずつ理解しようとされている姿勢は本当に素晴らしいです。

今回は、前回のコンポジションの問題の**リベンジマッチ**です！前回お伝えしたヒントや参考資料を元に、ぜひ再挑戦してみてください。コンポジションをマスターすれば、より複雑なアプリケーションの設計が格段に楽になります。

---

### 問題

あなたは引き続き図書館システムの開発者で、複数の書籍を管理する「図書館」を表現するプログラムを作成します。

以下の要件を満たすPythonコードを記述してください。

1.  **前回の `Book` クラスを再利用または定義**してください。（Day33で作成したものをそのまま使って構いません）
    * 属性: `title` (文字列), `author` (文字列), `isbn` (文字列), `is_available` (ブール値、初期値は `True`)
    * メソッド: `__init__`, `borrow`, `return_book`, `display_info`

2.  **`Library` クラスを定義**してください。
    * このクラスは、書籍のリストを保持するための属性 `books` を持つ必要があります。初期値は空のリストとします。

3.  `Library` クラス内に以下の**メソッドを定義**してください。
    * `__init__(self)`: コンストラクタ。`books` リストを初期化します。
    * `add_book(self, book)`:
        * 引数として `Book` クラスのインスタンスを受け取り、`books` リストに追加します。
        * "『[書籍タイトル]』が図書館に追加されました。" と表示する。
    * `find_book(self, search_term)`:
        * 引数 `search_term` (文字列) を受け取り、タイトルまたはISBNに`search_term`が含まれる書籍を全て検索します。
        * 見つかった書籍の**タイトルとISBNのリスト**を返します。例: `[{"title": "Python入門", "isbn": "978-4-0000-0000-1"}, {"title": "データサイエンス", "isbn": "978-4-0000-0000-3"}]`
        * 見つからなければ空のリストを返します。
        * **ヒント:** 大文字・小文字を区別しない検索にすると、より使いやすくなります。
    * `lend_book(self, isbn)`:
        * 引数 `isbn` (文字列) を受け取り、該当する書籍を `books` リストから見つけます。
        * 見つかった書籍の `borrow()` メソッドを呼び出します。
        * 書籍が見つからない場合は、"ISBN: [ISBN] の書籍は見つかりませんでした。" と表示する。
    * `receive_book(self, isbn)`:
        * 引数 `isbn` (文字列) を受け取り、該当する書籍を `books` リストから見つけます。
        * 見つかった書籍の `return_book()` メソッドを呼び出します。
        * 書籍が見つからない場合は、"ISBN: [ISBN] の書籍は見つかりませんでした。" と表示する。
    * `display_all_books(self)`:
        * 図書館に登録されている全ての書籍の情報を一覧表示する。
        * 各書籍の `display_info()` メソッドを呼び出して情報を表示する。
        * 書籍が一つもない場合は、"図書館に書籍は登録されていません。" と表示する。

4.  `__main__` ブロックで以下の処理を実行し、動作を確認してください。
    * `Library` クラスのインスタンスを作成する。
    * `Book` クラスのインスタンスを3つ以上作成し、`add_book` メソッドで図書館に追加する。
    * `display_all_books` メソッドを呼び出し、全ての書籍が追加されたことを確認する。
    * `find_book` メソッドを使って、存在する書籍と存在しない書籍を検索し、結果を確認する。
    * `lend_book` メソッドを使って、書籍を貸し出す。
    * 貸し出し後、再度 `display_all_books` を呼び出し、状態が変更されたことを確認する。
    * `receive_book` メソッドを使って、書籍を返却する。
    * 返却後、再度 `display_all_books` を呼び出し、状態が元に戻ったことを確認する。
    * 存在しないISBNで `lend_book` や `receive_book` を呼び出し、適切なメッセージが表示されることを確認する。

---

今回は、`Book` インスタンスを `Library` クラスの `books` リストに格納し、そのリストを操作することで、図書館の機能を実装していきます。

頑張ってください！解答ができたら、コードとその説明、特に難しかった点や工夫した点などを教えてください。フィードバックさせていただきます。